목적

LivePlan의 오류 처리와 사용자 메시지를 "표면별로 일관되게" 관리한다.

앱/위젯/인텐트는 컨텍스트가 달라 메시지 길이·표현이 다르므로, 표준을 고정한다.

적용 범위

App(UI) 오류 메시지

잠금화면(위젯/Live Activity) 폴백/오류 문구

인텐트 반환 메시지(Refresh/Complete/QuickAdd)

상위 규칙 우선순위

product-decisions.md(프라이버시 기본값)

strings-localization.md(키/길이/용어)

intents.md(인텐트 실패 메시지 정책)

본 문서(error-and-messaging)

핵심 원칙(강행)

메시지는 짧고 안전(프라이버시 우선)

Level 1/2에서는 원문 제목 노출 금지.

인텐트 메시지는 특히 짧게(18~30자 내 권장).

표면별 책임 분리

App(UI): 상황 설명 + 다음 행동(CTA) 제공 가능(조금 더 길어도 됨)

위젯/Live Activity: 요약/폴백 중심(긴 설명 금지)

인텐트: 성공/실패 한 문장(원문 노출 최소)

실패는 "회복 가능"하게 안내

"다음 주기에 회복" 또는 "앱을 열어 확인" 같은 안전한 안내

표준 오류 분류(권장)
A. DomainError (AppCore)

입력 검증 실패, 불변식 위반 등
B. StorageError (AppStorage)

파일 없음, 디코딩 실패, 마이그레이션 실패
C. IntentError

파라미터 부족, 대상 없음(완료할 항목 없음), 프로젝트 없음 등

표준 메시지(키 기준, KR 예시)

데이터 로드 실패(앱): "데이터를 불러오지 못했습니다. 앱에서 확인해주세요."

데이터 로드 실패(위젯/Live Activity): "앱을 열어 확인" 또는 "0" 폴백

프로젝트 없음: "프로젝트를 찾을 수 없습니다."

완료할 항목 없음: "완료할 항목이 없습니다."

입력 없음(QuickAdd): "내용을 입력해주세요."

프라이버시 안내(설정): "잠금화면은 주변 사람이 볼 수 있습니다."

인텐트 메시지 프라이버시 규칙

Level 0: "완료: {title}" 허용(길이 제한 적용)

Level 1: "완료했습니다" 또는 "완료: 할 일 1"(마스킹된 제목만)

Level 2: "완료했습니다"(제목 포함 금지)

폴백 정책(강행)

어떤 오류에서도 크래시 금지

위젯/Live Activity는 "빈 상태 문구/카운트 0"로 안전하게 표시

앱은 복구 경로(프로젝트 만들기, 다시 시도) 제공

끝.
