목적

LivePlan의 "확정값(결정)"을 단일 문서로 고정한다.

다른 rules에 Open decisions가 남아 있어도 최종 확정값은 본 문서가 우선한다.

적용 범위

AppCore/Storage/UI/Extensions/Intents/Shortcuts/Controls/문구/QA/제출 문서 전반

운영 규칙(강행)

본 문서의 결정을 바꾸면 관련 rules와 테스트를 반드시 동기화한다.

결정 변경 커밋은 "결정 변경 + 규칙 반영 + 테스트 수정"을 한 슬라이스로 처리한다.

────────────────────────────────────────
0) Phase 정의
────────────────────────────────────────

Release 1.0(기존)

프로젝트/태스크(oneOff + dailyRecurring reset)/완료/핀/프라이버시/잠금화면 요약/인텐트 3개

Release 2.0(Phase 2, 이번 문서의 목표)

Todoist급 개인 PM 요소: 우선순위/라벨/필터/검색/반복 확장/빠른 입력 파싱

Asana-lite 요소: 프로젝트 뷰 전환(리스트/보드/캘린더) + "진행 상태(doing)"

Notion-lite 요소: 프로젝트/태스크 노트(간단 Markdown/텍스트), 프로젝트-태스크 관계는 이미 존재(단일 DB는 아님)

여전히 금지(2.0에서도): 서버/협업/대규모 첨부/리치텍스트 블록 에디터/칸반 자동화 규칙 빌더(Asana/Notion 풀스택은 3.0+)

────────────────────────────────────────
1) 플랫폼/지원 범위
────────────────────────────────────────

1.1 iOS 최소 지원 버전

결정: iOS 17 지원 유지, iOS 18+에서 Controls 제공(폴백: 위젯 탭 → 앱)

1.2 View(프로젝트 뷰) 제공 범위(2.0)

결정: 프로젝트 뷰는 3종 제공

List(기본)

Board(상태 컬럼)

Calendar(dueAt 기준)

Timeline/Gantt는 2.1(옵션)으로 보류(복잡도 상승, 종속성/자동 날짜 이동 문제 때문).
Asana의 "프로젝트 뷰 전환(리스트/보드/캘린더/타임라인)"이 PM 체감의 핵심이라는 점은 참고하되, 2.0에서는 3종까지만.

────────────────────────────────────────
2) 프라이버시(잠금화면 노출)
────────────────────────────────────────

2.1 기본값(강행)

privacyMode 기본값: Level 1(Masked)

2.2 레벨 정의(2.0 유지)

Level 0: 제목 원문(길이 제한)

Level 1: 프로젝트명 숨김 + 태스크명 축약/익명 + 카운트

Level 2: 카운트/진척률만, 제목 미표시

2.3 인텐트/단축어 메시지

Level 1/2에서 원문 제목 포함 금지(마스킹 또는 "완료했습니다" 형태)

────────────────────────────────────────
3) 데이터 구조(2.0 확정 추가)
────────────────────────────────────────

3.1 프로젝트 내부 구조

결정: "Sections(섹션)" 도입(프로젝트 내 그룹핑)

결정: "Project Notes(프로젝트 노트)" 도입(간단 텍스트/Markdown)

3.2 태스크 메타데이터(2.0 핵심)

Priority: P1~P4(기본 P4)

Tags/Labels: 다대다(태스크에 여러 태그)

WorkflowState(보드용): todo / doing / done

Dependencies-lite(Asana-lite): 같은 프로젝트 내에서 "blockedBy(선행)"만 제공, 자동 날짜 이동은 하지 않음(2.0에서는 표시/필터링/선정에만 반영).

3.3 반복(Recurring) 확장

결정: 2.0에서 반복 규칙을 "매일 외"로 확장(주간/월간/요일 지정).

결정: 반복 태스크는 "행태(behavior)" 2종 지원

Habit reset(기존): 체크 안 해도 다음 날 새로(표시 리셋)

Rollover(프로젝트 업무형): 미완료는 지연으로 남아있고, 완료 시 다음 occurrence로 이동(Todoist/업무관리형에 가까움)

기본값: dailyRecurring은 Habit reset 유지. "반복 규칙 확장" 태스크는 Rollover를 기본(사용자 토글 가능).

────────────────────────────────────────
4) 필터/검색(2.0 확정)
────────────────────────────────────────

4.1 Saved Views(저장된 필터)

결정: "필터(저장된 뷰)" 도입(최소 6개 built-in + 사용자 커스텀). Todoist의 필터 개념을 벤치마크.

Built-in: Today / Upcoming(7d) / Overdue / P1 / By tag / By project

Custom: 조건 조합(프로젝트/태그/우선순위/상태/기한 범위/섹션)

4.2 Search

결정: 로컬 문자열 검색(프로젝트 제목/태스크 제목/노트/태그명). 인덱싱/서버 검색 금지(경량 유지).

────────────────────────────────────────
5) Quick Add(빠른 입력 파싱)
────────────────────────────────────────

결정: 2.0에서 "제한된 자연어/토큰 파서" 제공(완전 NLP 아님)

지원 토큰(최소):

날짜/시간: 내일/모레/오늘, 요일(월~일), "오후 3시", "3pm"

우선순위: p1/p2/p3/p4

태그: #tag

프로젝트: @project

섹션: /section(또는 ::section)

파싱 실패 시: 원문을 제목으로 저장하고 나머지는 미적용(안전).

Todoist가 자연어 입력과 반복 날짜 입력을 핵심 가치로 내세운다는 점을 벤치마크.

────────────────────────────────────────
6) 잠금화면(2.0 확정 변경)
────────────────────────────────────────

Top N 유지: 위젯 Top3, Live Activity Top1 유지

선정 알고리즘은 2.0에서 아래 요소를 반영

doing 우선 노출(작업 중)

overdue/dueSoon

P1 우선

blocked(의존성) 태스크는 기본적으로 "완료 대상/Top1에서 제외"

위젯 갱신 기대치: 즉시 갱신 보장 X(WidgetKit 제약)

Live Activity: 8시간 제한(단축어 갱신은 선택 기능)

끝.
